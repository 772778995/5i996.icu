# Mongo 账号权限

创建超级管理用户

```
db.createUser({
	user: 'admin',
	pwd: 'wuhaochao666',
	roles: [{
		role: 'root',
		db: 'admin'
	}]
})
```

查看用户

```
show users
```

删除用户

```
db.dropUser({'admin': '123456'})
```

更改用户密码

```
db.updateUser('admin', {pwd: '654321'})
```

登录用户

```
db.auth('admin', '123456')
```

### Mongo 数据库开启验证权限

打开 mongo 安装目录，找到 bin 目录下的配置文件 mongod.cfg

取消 security 的注释（#代表注释，相当于 js 的//）

第二行缩进 2 个空格并输入 authorization: enabled

```
security:
  authorization: enabled
```

按住 win + R，输入 services.msc，重启 MongoDB 服务以上修改过的配置文件才能生效

![image-20210805193008538](https://img.wuhaochao.top/20210806022220.png)

登录刚才创建的 MongoDB 超级管理用户

mongo 数据库名称 -u 账号 -p 密码

```
mongo admin -u admin -p 123456
```

- 数据库用户角色：read、readWrite
- 数据库管理角色：dbAdmin、**dbOwner**、userAdmin
- 集群管理角色：clusterAdmin、clusterManager、clusterMonitor、hostManager
- 备份恢复角色：backup、restore
- 所有数据库角色：readAnyDatabase、readWriteAnyDatabase、userAdminAnyDatabase、dbAdminAnyDatabase
- 超级用户角色：**root**

参考：[https://www.cdnblogs.com/zzw1787044/p/5773178.html]()

创建数据库管理员

```
use databaseName
db.createUser({
	user: 'admin',
	pwd: '123456',
	roles: [{
		role: 'dbOwner',
		db: 'databaseName'
	}]
})
```

这个时候查看数据库只能显示 databaseName 数据库
